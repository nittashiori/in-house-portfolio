---
import Navigation from './Navigation.astro';
import SwitchTheme from './Switch/SwitchTheme.astro';
import Hamburger from './Hamburger.astro';
---
<header class="c-header">
  <Navigation />
  <SwitchTheme />
  <Hamburger />
</header>

<script type="module">
  const navigation = document.querySelector('.c-navigation');
  const hamburger = document.querySelector('.c-hamburger');

  document.querySelector('.c-hamburger').addEventListener('click', () => {
    toggleHamburger();
  });

  const anchers = document.querySelectorAll('.c-navigation a');
  anchers.forEach((ancher) => {
    ancher.addEventListener('click', () => {
      toggleHamburger();
    })
  })

  function toggleHamburger () {
    if (hamburger.classList.contains('is-expanded')) {
      navigation.classList.remove('is-expanded');
      hamburger.classList.remove('is-expanded');
      hamburger.setAttribute('aria-pressed', false);
    } else {
      navigation.classList.add('is-expanded');
      hamburger.classList.add('is-expanded');
      hamburger.setAttribute('aria-pressed', true);
    }
  }
</script>

<style>
  .c-header {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-xs-2) var(--space-xs);
    position: relative;
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 2;

    .c-navigation {
      display: none;
      width: 100vw;
      height: 100svh;
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;

      .lists {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;

        &::after {
          content: "";
          width: 100%;
          height: 100%;
          background: var(--color-background-default);
          position: absolute;
          top: 0;
          left: 0;
          z-index: -1;
        }
      }
    }

    .c-navigation.is-expanded {
      display: block;
    }

    @media (min-width: 768px) {
      .c-navigation {
        display: block;
        width: auto;
        height: auto;
        position: relative;

        .lists {
          &::after {
            display: none;
          }
        }
      }
    }
  }
</style>