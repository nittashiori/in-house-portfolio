---
interface Props {
  id?: string;
  className?: string;
  isOpen?: boolean;
}

const {
  /** ID */
  id = 'js-accordion',
  /** Class */
  className = '',
  /** 初期は開いてる状態にする */
  isOpen = false
} = Astro.props;
---
<details
  {...(id ? { id: id } : {})}
  class={`c-accordion-item ${className || ''} ${isOpen ? 'is-open' : ''}`}
>
  <slot />
</details>

<style>
  .c-accordion-item {
    display: block;
    width: 100%;
    border-bottom: 1px solid var(--color-border-default);

    .c-accordion-panel {
      /* overflow: hidden;
      transition: height 0.3s ease-out;
      height: 0; */
      display: grid;
      transition: grid-template-rows .4s;

      .wrap {
        overflow: hidden;
      }
    }

    /* &.is-open {
      .c-accordion-panel {
        overflow: visible;
        height: auto;
      }
    } */
  }
</style>

